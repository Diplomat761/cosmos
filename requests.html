<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Подача заявок - ЖСК "Космос"</title>
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/responsive.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- Шапка -->
  <header class="header">
    <div class="container header__container">
      <a href="index.html" class="header__logo">
        <i class="fas fa-building header__logo-icon"></i>
        <span>ЖСК "Космос"</span>
      </a>
      <nav class="header__nav">
        <a href="index.html" class="header__nav-link">Главная</a>
        <a href="meters.html" class="header__nav-link">Передать показания</a>
        <a href="requests.html" class="header__nav-link header__nav-link--active">Подать заявку</a>
        <a href="index.html#contacts" class="header__nav-link">Контакты</a>
      </nav>
      <button class="header__menu-toggle" aria-label="Открыть меню">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </header>

  <!-- Мобильное меню -->
  <div class="overlay"></div>
  <nav class="mobile-menu">
    <button class="mobile-menu__close" aria-label="Закрыть меню">
      <i class="fas fa-times"></i>
    </button>
    <div class="mobile-menu__nav">
      <a href="index.html" class="mobile-menu__link">Главная</a>
      <a href="meters.html" class="mobile-menu__link">Передать показания</a>
      <a href="requests.html" class="mobile-menu__link">Подать заявку</a>
      <a href="index.html#contacts" class="mobile-menu__link">Контакты</a>
    </div>
  </nav>

  <!-- Хлебные крошки -->
  <nav class="breadcrumbs">
    <div class="container">
      <ul class="breadcrumbs__list">
        <li class="breadcrumbs__item">
          <a href="index.html" class="breadcrumbs__link">Главная</a>
        </li>
        <li class="breadcrumbs__item">Подача заявок</li>
      </ul>
    </div>
  </nav>

  <!-- Основной контент -->
  <main style="padding: var(--spacing-xl) var(--spacing-sm);">
    <div class="container">
      <h1 style="font-size: 2rem; margin-bottom: var(--spacing-lg); color: var(--color-primary); text-align: center;">
        Подача заявки
      </h1>

      <!-- Форма подачи заявки -->
      <form class="form" id="requestForm">
        <h2 class="form__title">Форма заявки</h2>

        <!-- Тип заявки -->
        <div class="form-group">
          <label class="form-group__label form-group__label--required">Тип заявки</label>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-sm); margin-top: var(--spacing-xs);">
            <label style="display: flex; align-items: center; gap: var(--spacing-xs); padding: var(--spacing-sm); border: 2px solid #e2e8f0; border-radius: var(--radius-md); cursor: pointer; transition: border-color var(--transition-fast);">
              <input type="radio" name="requestType" value="plumber" required style="margin: 0;">
              <i class="fas fa-tint" style="color: var(--color-primary); font-size: 1.5rem;"></i>
              <span>Сантехник</span>
            </label>
            <label style="display: flex; align-items: center; gap: var(--spacing-xs); padding: var(--spacing-sm); border: 2px solid #e2e8f0; border-radius: var(--radius-md); cursor: pointer; transition: border-color var(--transition-fast);">
              <input type="radio" name="requestType" value="electrician" required style="margin: 0;">
              <i class="fas fa-bolt" style="color: var(--color-accent); font-size: 1.5rem;"></i>
              <span>Электрик</span>
            </label>
            <label style="display: flex; align-items: center; gap: var(--spacing-xs); padding: var(--spacing-sm); border: 2px solid #e2e8f0; border-radius: var(--radius-md); cursor: pointer; transition: border-color var(--transition-fast);">
              <input type="radio" name="requestType" value="chairman" required style="margin: 0;">
              <i class="fas fa-file-alt" style="color: var(--color-secondary); font-size: 1.5rem;"></i>
              <span>Председателю</span>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label for="apartment" class="form-group__label form-group__label--required">Номер квартиры</label>
          <select id="apartment" name="apartment" class="form-group__select" required>
            <option value="">Выберите квартиру</option>
          </select>
        </div>

        <div class="form-group">
          <label for="name" class="form-group__label form-group__label--required">Имя</label>
          <input 
            type="text" 
            id="name" 
            name="name" 
            class="form-group__input" 
            required 
            placeholder="Иван"
            pattern="[А-Яа-яЁё\s]{3,}"
          >
        </div>

        <div class="form-group">
          <label for="phone" class="form-group__label form-group__label--required">Контактный телефон</label>
          <input 
            type="tel" 
            id="phone" 
            name="phone" 
            class="form-group__input" 
            required 
            placeholder="+7 (999) 123-45-67"
          >
        </div>

        <div class="form-group">
          <label for="subject" class="form-group__label form-group__label--required">Тема заявки</label>
          <input 
            type="text" 
            id="subject" 
            name="subject" 
            class="form-group__input" 
            required 
            placeholder="Например: Протечка в ванной"
          >
        </div>

        <div class="form-group">
          <label for="description" class="form-group__label form-group__label--required">Описание проблемы</label>
          <textarea 
            id="description" 
            name="description" 
            class="form-group__textarea" 
            required 
            placeholder="Опишите проблему подробно..."
            minlength="10"
            maxlength="500"
          ></textarea>
          <div id="charCounter" class="char-counter">0 / 500 символов</div>
        </div>

        <div class="form-group">
          <label for="photo" class="form-group__label">Фотография проблемы (опционально)</label>
          <div class="file-upload">
            <input 
              type="file" 
              id="photo" 
              name="photo" 
              class="file-upload__input" 
              accept="image/jpeg,image/jpg,image/png"
            >
            <label for="photo" style="cursor: pointer; display: block; padding: var(--spacing-md);">
              <i class="fas fa-camera" style="font-size: 2rem; color: var(--color-primary); margin-bottom: var(--spacing-xs);"></i>
              <p>Нажмите для выбора файла</p>
              <p style="font-size: 0.875rem; color: var(--color-text-light); margin-top: var(--spacing-xs);">
                JPG, PNG до 5MB
              </p>
            </label>
            <div id="filePreview"></div>
          </div>
        </div>

        <div class="form-group">
          <label style="display: flex; align-items: center; gap: var(--spacing-xs); cursor: pointer;">
            <input 
              type="checkbox" 
              id="urgent" 
              name="urgent"
              style="width: auto;"
            >
            <span style="font-weight: 500; color: var(--color-error);">Срочная заявка</span>
          </label>
        </div>

        <div class="form-group">
          <label for="visitTime" class="form-group__label">Желаемое время визита</label>
          <select id="visitTime" name="visitTime" class="form-group__select">
            <option value="">Любое время</option>
            <option value="morning">Утро (9-12)</option>
            <option value="day">День (12-18)</option>
            <option value="evening">Вечер (18-21)</option>
          </select>
        </div>

        <button type="submit" id="submitBtn" class="btn btn--primary btn--large" style="width: 100%; margin-top: var(--spacing-md);">
          Отправить заявку
        </button>
      </form>

      <!-- История заявок -->
      <section class="history" style="margin-top: var(--spacing-xl);">
        <h2 class="history__title">Мои последние заявки</h2>
        <div id="requestsHistory"></div>
      </section>

      <!-- Справочная информация -->
      <section class="info-section" style="margin-top: var(--spacing-xl);">
        <div class="container">
          <h2 class="info-section__title">Справочная информация</h2>
          <div class="info-grid">
            <div class="info-card">
              <h3 class="info-card__title">График работы специалистов</h3>
              <p class="info-card__text">
                <strong>Сантехник:</strong> Пн-Пт: 9:00-18:00<br>
                <strong>Электрик:</strong> Пн-Пт: 9:00-18:00<br>
                <strong>Срочные вызовы:</strong> Круглосуточно
              </p>
            </div>
            <div class="info-card">
              <h3 class="info-card__title">Среднее время обработки</h3>
              <p class="info-card__text">
                <strong>Обычные заявки:</strong> 1-2 рабочих дня<br>
                <strong>Срочные заявки:</strong> В течение дня<br>
                <strong>Аварийные ситуации:</strong> Немедленно
              </p>
            </div>
            <div class="info-card">
              <h3 class="info-card__title">Аварийная ситуация</h3>
              <p class="info-card__text">
                При аварийных ситуациях (затопление, утечка газа, короткое замыкание) звоните:<br>
                <strong>Единая диспетчерская:</strong> <a href="tel:112" class="info-card__phone">112</a><br>
                <strong>МЧС:</strong> <a href="tel:101" class="info-card__phone">101</a>
              </p>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- Футер -->
  <footer class="footer">
    <div class="container footer__container">
      <div>
        <div class="footer__name">Жилищно-строительный кооператив "Космос"</div>
        <p class="footer__text">г. Новосибирск, ул. Блюхера, 35</p>
      </div>
      <nav class="footer__nav">
        <a href="index.html" class="footer__nav-link">Главная</a>
        <a href="meters.html" class="footer__nav-link">Передать показания</a>
        <a href="requests.html" class="footer__nav-link">Подать заявку</a>
      </nav>
    </div>
  </footer>

  <script src="js/main.js"></script>
  <script src="js/requests.js"></script>
</body>
</html>

